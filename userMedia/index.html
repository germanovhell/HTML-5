<!DOCTYPE html>
<html lang="es">
    <head>
        <title>UserMedia </title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--<link href="css/style.css" rel="stylesheet">-->
    </head>
    <body>
        <video width="400" height="400" id="video"></video>

        <script>
            window.addEventListener("load", init);
            function init(){
                var video = document.getElementById("video");
                navigator.getUserMedia = (
                    navigator.getUserMedia ||
                    navigator.webkitGetUserMedia ||
                    navigator.mozGetUserMedia ||
                    navigator. msGetUserMedia
                );
                if(navigator.getUserMedia){
                    navigator.getUserMedia({video: true, audio: true},function(stream){
                        video.src = window.URL.createObjectURL(stream);
                        video.play();
                    }
                        ,function(e){
                            console.log(e);
                        });
                }else{
                    alert("Navegador no soportado");
                }
            }
        </script>
    </body>
</html>